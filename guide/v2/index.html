<!DOCTYPE html>
<html lang="fa" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Makeup SDK v2</title>
    <link
      rel="icon"
      href="https://armogroup.storage.iran.liara.space/favicons/favicon.ico"
    />

    <link
      href="https://armogroup.storage.iran.liara.space/fonts/IranSans/IRANSansWeb(FaNum)_Medium.woff"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.10/clipboard.min.js"></script>
    <link rel="stylesheet" href="css/styles.css" />
    <link rel="stylesheet" href="css/code.css" />
    <link rel="stylesheet" href="css/api.css" />
    <link rel="stylesheet" href="css/faq.css" />
    <link rel="stylesheet" href="css/features.css" />
  </head>
  <body>
    <!-- دکمه منو برای موبایل -->
    <button id="menuToggle" class="menu-toggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- overlay برای حالت موبایل -->
    <div class="sidebar-overlay"></div>

    <!-- ساید‌بار -->
    <nav class="sidebar">
      <div class="sidebar-header">
        <a href="https://armogroup.tech" target="_blank">
          <img
            src="https://armogroup.storage.iran.liara.space/favicons/favicon.ico"
            alt="ARmo Logo"
          />
        </a>
      </div>
      <ul class="nav-menu">
        <li>
          <a href="#intro">معرفی</a>
        </li>
        <li>
          <a href="#quick-start">شروع سریع</a>
          <ul>
            <li><a href="#token">دریافت توکن</a></li>
            <li><a href="#installation">نصب کتابخانه</a></li>
            <li><a href="#basic-setup">راه‌اندازی اولیه</a></li>
          </ul>
        </li>
        <li>
          <a href="#features">امکانات اصلی</a>
          <ul>
            <li><a href="#makeup-types">انواع آرایش</a></li>
            <li><a href="#eyeliner-styles">استایل‌های خط چشم</a></li>
            <li><a href="#camera">تنظیمات دوربین</a></li>
            <li><a href="#callback-method">متدهای callback</a></li>
          </ul>
        </li>
        <li>
          <a href="#implementation">پیاده‌سازی</a>
          <ul>
            <li><a href="#javascript">Pure JavaScript</a></li>
            <li><a href="#react">React.js</a></li>
            <li><a href="#react-native">React Native</a></li>
          </ul>
        </li>
        <li>
          <a href="#api">API Reference</a>
        </li>
        <li>
          <a href="#faq">سوالات متداول</a>
        </li>
      </ul>
    </nav>

    <!-- محتوای اصلی -->
    <main class="content">
      <div id="intro"></div>
      <div id="quick-start"></div>
      <div id="features"></div>
      <div id="implementation"></div>
      <div id="api"></div>
      <div id="faq"></div>
    </main>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // تنظیمات منوی موبایل
        const menuToggle = document.getElementById("menuToggle");
        const sidebar = document.querySelector(".sidebar");
        const overlay = document.querySelector(".sidebar-overlay");

        function toggleMenu() {
          sidebar.classList.toggle("active");
          overlay.classList.toggle("active");
          document.body.style.overflow = sidebar.classList.contains("active")
            ? "hidden"
            : "";
        }

        menuToggle.addEventListener("click", toggleMenu);
        overlay.addEventListener("click", toggleMenu);

        // بستن منو با کلیک روی لینک‌ها در موبایل
        const menuLinks = document.querySelectorAll(".nav-menu a");
        menuLinks.forEach((link) => {
          link.addEventListener("click", () => {
            if (window.innerWidth <= 768) {
              toggleMenu();
            }
          });
        });

        // مدیریت تغییر سایز صفحه
        window.addEventListener("resize", () => {
          if (window.innerWidth > 768 && sidebar.classList.contains("active")) {
            toggleMenu();
          }
        });

        // لود محتوای بخش‌ها
        const sections = [
          "intro",
          "quick-start",
          "features",
          "implementation",
          "api",
          "faq",
        ];

        const loadPromises = sections.map((section) => {
          return fetch(`sections/${section}.html`)
            .then((response) => response.text())
            .then((html) => {
              document.getElementById(section).innerHTML = html;
            })
            .catch((error) =>
              console.error(`Error loading ${section}:`, error)
            );
        });

        // پس از لود همه بخش‌ها
        Promise.all(loadPromises)
          .then(() => {
            // فعال‌سازی FAQ
            const faqItems = document.querySelectorAll(".faq-item h4");
            faqItems.forEach((item) => {
              item.addEventListener("click", function () {
                const parent = this.parentElement;
                parent.classList.toggle("active");
              });
            });

            // فعال‌سازی دکمه‌های کپی
            const clipboard = new ClipboardJS(".copy-btn", {
              text: function (trigger) {
                const target = trigger.getAttribute("data-clipboard-target");
                const text = document.querySelector(target).innerText;
                return text;
              },
            });

            clipboard.on("success", function (e) {
              e.trigger.textContent = "کپی شد!";
              e.trigger.classList.add("copied");

              setTimeout(function () {
                e.trigger.textContent = "کپی";
                e.trigger.classList.remove("copied");
              }, 2000);
            });

            clipboard.on("error", function (e) {
              console.error("خطا در کپی کردن متن:", e);
            });
          })
          .catch((error) => {
            console.error("خطا در لود بخش‌ها:", error);
          });
      });
    </script>
  </body>
</html>
