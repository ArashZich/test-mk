<section class="api">
  <h2>API Reference</h2>

  <!-- راه‌اندازی و مقداردهی اولیه -->
  <div class="api-section">
    <h3>راه‌اندازی SDK</h3>

    <div class="api-method">
      <h4>سازنده (Constructor)</h4>
      <div class="code-block">
        <pre><code>const makeup = new window.Makeup({
    colors: Array,              // آرایه‌ای از رنگ‌ها
    pattern: String,           // الگوی پیش‌فرض
    face: String,             // نوع آرایش پیش‌فرض
    showColorPicker: Boolean,  // نمایش/عدم نمایش Color Picker
    onReady: Function,        // callback آماده شدن
    onError: Function         // callback خطا
});</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>تنظیم توکن</h4>
      <div class="code-block">
        <pre><code>window.Makeup.setToken("YOUR_TOKEN");</code></pre>
      </div>
    </div>
  </div>

  <!-- متدهای اصلی -->
  <div class="api-section">
    <h3>متدهای اصلی</h3>

    <div class="api-method">
      <h4>changeMakeupType(type)</h4>
      <p>تغییر نوع آرایش</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>type</td>
          <td>String</td>
          <td>
            lips | eyeshadow | eyepencil | eyelashes | blush | concealer |
            foundation | brows | eyeliner
          </td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>makeupApp.changeMakeupType("lips");</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>changeMakeupColor(type, color, code)</h4>
      <p>تغییر رنگ آرایش</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>type</td>
          <td>String</td>
          <td>نوع آرایش</td>
        </tr>
        <tr>
          <td>color</td>
          <td>String</td>
          <td>کد رنگ HEX</td>
        </tr>
        <tr>
          <td>code</td>
          <td>String</td>
          <td>کد شناسایی رنگ (اختیاری)</td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>makeupApp.changeMakeupColor("lips", "#FF0000", "L01");</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>setMakeupPattern(type, pattern)</h4>
      <p>تنظیم الگوی آرایش</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>type</td>
          <td>String</td>
          <td>نوع آرایش</td>
        </tr>
        <tr>
          <td>pattern</td>
          <td>String</td>
          <td>
            normal | matte | glossy | glitter (برای رژ لب)<br />
            normal | lashed (برای خط چشم)
          </td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>// مثال برای رژ لب
makeupApp.setMakeupPattern("lips", "matte");

// مثال برای خط چشم
makeupApp.setMakeupPattern("eyeliner", "lashed");</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>setMakeupTransparency(type, value)</h4>
      <p>تنظیم شفافیت آرایش</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>type</td>
          <td>String</td>
          <td>نوع آرایش</td>
        </tr>
        <tr>
          <td>value</td>
          <td>Number</td>
          <td>مقدار شفافیت (0 تا 1)</td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>makeupApp.setMakeupTransparency("lips", 0.5);</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>extractDominantColor(imageUrl)</h4>
      <p>استخراج رنگ غالب از تصویر</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>imageUrl</td>
          <td>String</td>
          <td>آدرس تصویر (باید دسترسی CORS داشته باشد)</td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>makeupApp.extractDominantColor("https://example.com/image.jpg")
  .then(color => {
    console.log("رنگ استخراج شده:", color); // مثلاً #FF0000
  })
  .catch(error => {
    console.error("خطا در استخراج رنگ:", error);
  });</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>addColorFromImage(imageUrl, code, feature)</h4>
      <p>استخراج رنگ از تصویر و افزودن آن به لیست رنگ‌ها</p>
      <table class="api-params">
        <tr>
          <th>پارامتر</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>imageUrl</td>
          <td>String</td>
          <td>آدرس تصویر (باید دسترسی CORS داشته باشد)</td>
        </tr>
        <tr>
          <td>code</td>
          <td>String</td>
          <td>کد شناسایی رنگ جدید</td>
        </tr>
        <tr>
          <td>feature</td>
          <td>String</td>
          <td>نوع آرایش مربوطه (اختیاری)</td>
        </tr>
      </table>
      <div class="code-block">
        <pre><code>makeupApp.addColorFromImage("https://example.com/lipstick.jpg", "L04", "lips")
  .then(extractedColor => {
    console.log("رنگ استخراج شده و اضافه شده:", extractedColor);
  })
  .catch(error => {
    console.error("خطا در استخراج و افزودن رنگ:", error);
  });</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>getStatus()</h4>
      <p>دریافت وضعیت فعلی SDK</p>
      <div class="code-block">
        <pre><code>const status = makeupApp.getStatus();
// مقادیر ممکن: initializing, loading, ready, error</code></pre>
      </div>
    </div>

    <div class="api-method">
      <h4>getTechnicalInfo()</h4>
      <p>دریافت اطلاعات فنی SDK</p>
      <div class="code-block">
        <pre><code>const info = makeupApp.getTechnicalInfo();
/*
{
  version: "v2.0.0", // نسخه SDK
  status: "ready", // وضعیت فعلی SDK
  currentMakeupType: "lips", // نوع آرایش فعلی
  isPremium: false, // وضعیت اکانت
  enabledFeatures: ["lips", "eyeshadow"], // ویژگی‌های فعال
  browser: { // اطلاعات مرورگر
    userAgent: "Mozilla/5.0 ...",
    isMobile: false
  }
*/</code></pre>
      </div>
    </div>
  </div>

  <!-- متدهای تعیین رنگ -->
  <div class="api-section">
    <h3>متدهای کار با رنگ</h3>

    <div class="api-method">
      <h4>ساختار تعریف رنگ‌ها در سازنده SDK</h4>
      <p>
        برای تعریف رنگ‌ها در زمان ساخت نمونه SDK، می‌توانید از ساختارهای زیر
        استفاده کنید:
      </p>
      <div class="code-block">
        <pre><code>const makeup = new window.Makeup({
  colors: [
    // تعریف مستقیم رنگ
    { code: "01", color: "#FF0000" },
    
    // تعریف رنگ با تصویر (رنگ از تصویر استخراج می‌شود)
    { code: "02", url: "https://example.com/lipstick-image.jpg" },
    
    // تعریف رنگ و تصویر (اولویت با رنگ است)
    { code: "03", color: "#00FF00", url: "https://example.com/image.jpg" },
    
    // تعریف رنگ برای نوع آرایش خاص
    { code: "04", color: "#0000FF", feature: "eyeshadow" }
  ],
  // سایر تنظیمات...
});</code></pre>
      </div>
      <p>توضیحات فیلدها:</p>
      <table class="api-params">
        <tr>
          <th>فیلد</th>
          <th>نوع</th>
          <th>توضیحات</th>
        </tr>
        <tr>
          <td>code</td>
          <td>String</td>
          <td>کد شناسایی رنگ (ضروری)</td>
        </tr>
        <tr>
          <td>color</td>
          <td>String</td>
          <td>کد رنگ HEX (اختیاری در صورت وجود url)</td>
        </tr>
        <tr>
          <td>url</td>
          <td>String</td>
          <td>آدرس تصویر برای استخراج رنگ (اختیاری در صورت وجود color)</td>
        </tr>
        <tr>
          <td>feature</td>
          <td>String</td>
          <td>نوع آرایشی که این رنگ برای آن استفاده می‌شود (اختیاری)</td>
        </tr>
      </table>
      <p>نکات مهم:</p>
      <ul>
        <li>
          اگر هر دو مقدار <code>color</code> و <code>url</code> تعیین شوند،
          <code>color</code> اولویت دارد
        </li>
        <li>
          اگر فقط <code>url</code> مشخص شود، SDK به طور خودکار رنگ را از تصویر
          استخراج می‌کند
        </li>
        <li>برای استخراج رنگ، تصویر باید دسترسی CORS داشته باشد</li>
        <li>
          اگر استخراج رنگ با خطا مواجه شود، از رنگ خاکستری (#808080) به عنوان
          پشتیبان استفاده می‌شود
        </li>
      </ul>
    </div>
  </div>
</section>
